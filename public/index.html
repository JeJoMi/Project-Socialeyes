<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="preload" as script href="JS/materialScripts.js">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.4.1/croppie.min.css">
    <link rel="stylesheet" href="styles/master.css">

</head>

<body>

    <div ng-app='lan-finder'>
        <div style='min-height:100vh;' ng-controller='mainCtrl'>
            <navbar user='user' logout='logout()'></navbar>
            <br></br>
            <ui-view></ui-view>
            <!-- <footerbar></footerbar> -->
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.4.2/angular-ui-router.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
    <script src="https://use.fontawesome.com/568b763205.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.4.1/croppie.min.js" charset="utf-8"></script>


    <script src="js/app.js" charset="utf-8"></script>

    <script src="js/materialScripts.js" charset="utf-8"></script>


    <script src="components/nav/nav.js" charset="utf-8"></script>
    <script src="components/profileCreator/profileCreator.js" charset="utf-8"></script>
    <script src="components/footer/footer.js" charset="utf-8"></script>

    <script src="js/controllers/mainCtrl.js" charset="utf-8"></script>
    <script src="js/controllers/userController.js" charset="utf-8"></script>

    <script src="js/services/mainSrvc.js" charset="utf-8"></script>
    <script src="js/services/userService.js" charset="utf-8"></script>


    <script>
    $( document ).ready(function() {
        var $uploadCrop;

        function readFile(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $uploadCrop.croppie('bind', {
                        url: e.target.result
                    });
                    $('.upload-demo').addClass('ready');
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        $uploadCrop = $('#upload-demo').croppie({
            viewport: {
                width: 200,
                height: 200,
                type: 'circle'
            },
            boundary: {
                width: 300,
                height: 300
            }
        });

        $('#upload').on('change', function () { readFile(this); });
        $('.preview').on('click', function (ev) {
            $uploadCrop.croppie('result', {
                type: 'canvas',
                size: 'original'
            }).then(function (resp) {
                $('#imagebase64').val(resp);
                $('#form').submit();
            });
        });

    });
    </script>
</body>

</html>
